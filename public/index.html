
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="./imgs/favicon.ico">

    <title>GeoVis-Spring-2020</title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

    <!-- Custom styles for this template -->
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono+Display:700,900" rel="stylesheet">
    <link href="./vender/css/blog.css" rel="stylesheet">
    <link href="./css/style.css" rel="stylesheet">
    <link href="./js/dashboard.js" rel="stylesheet">

    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css"
    integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
    crossorigin=""/>

    <!-- Make sure you put this AFTER Leaflet's CSS -->
    <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"
    integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew=="
    crossorigin=""></script>

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css"
    integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
    crossorigin=""/>

<!-- Make sure you put this AFTER Leaflet's CSS -->
<script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"
    integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew=="
    crossorigin=""></script>

  </head>
  
  
  <body>

    <div class="container">
      <header class="blog-header py-3">
        <div class="row flex-nowrap d-flex justify-content-start align-items-center">
          <div class="col-4 pt-1">
            <span class="text-muted">Megan Coffer</span>
          </div>
          <div class="col-4 d-flex justify-content-center">
            <a class="blog-header-logo text-dark" href="./index.html">GeoVis 715</a>
          </div>
        </div>
      </header>

      <div class="nav-scroller py-1 mb-2">
        <nav class="nav d-flex justify-content-between">
          <a class="p-2 text-muted" href="./index.html">Assignments</a>
          <a class="p-2 text-muted" href="./dashboard.html">Dashboard</a>
        </nav>
      </div>

      <div class="jumbotron p-3 p-md-5 text-white rounded jumbotron-img">
        <div class="col-md-6 px-0">
          <h1 class="display-4 font-italic">Megan Coffer</change></h1>
          <p class="lead my-3">PhD Candidate, Center for Geospatial Analytics, North Carolina State University</p>
        </div>
      </div>
    </div>

    <main role="main" class="container">
      <div class="row">
        <div class="col-md-8 blog-main">
          <h3 class="pb-3 mb-4 font-italic border-bottom">
            Spring 2020
          </h3>

          <div id="Jan2020" class="blog-post">
            <h2 class="blog-post-title">Homework #3</h2>
            <p class="blog-post-meta">May 4, 2020</p>
            
            <h2>Lab #1: Basic introduction to plotly.js</h2>
                       
            <p>Plotly.js is a library ideally suited for JavaScript applications which make use of graphs 
                and charts. This lab used plotly.js to create a line graph, a bar chart, and a graph. The first 
                graph was generated with random x and y points. 
            </p>
        
            <div id="myDiv">
                <!-- Plotly chart will be drawn inside this DIV -->
                <script>
                var trace = {
                    x: [1, 2, 3, 4, 5, 6, 7, 8],
                    y: [1, 4, 9, 16, 25, 36, 49, 64],
                 mode: 'lines+markers',
                 };
                var layout = {
                    title: {
                        text:"This is a NEW title!",
                        font: {
                            family:"Arial",
                            size:30
                        }
                    },
                     xaxis:{
                        title:{
                            text: 'The x axis',
                            font: {
                                family:'Circular, monospace',
                                size: 18,
                                color: '#7f7f7f'
                                }
                            }
                        },
                    yaxis:{
                        title:{
                            text: 'The y axis',
                            font: {
                                family:'Circular, monospace',
                                size: 18,
                                color: '#7f7f7f'
                                }
                            }
                        },
                    };
                    var data = [trace];
                    
                    Plotly.newPlot('myDiv', data, layout);

                </script>
                </div>

            <p>The second graph displayed the number of Jewish survivors per district in Budapest based on 
                data from 1945. 
            </p>

            <div id="myDiv2">
                <!-- Plotly chart will be drawn inside this DIV -->
                <script>
                  var trace_bar = {
                      x: ['I', 'II', 'III', 'IV', 'V', 'VI', 'VII', 'VIII', 'IX', 'X', 'XI', 'XII', 'XIII', 'XIV', 'Unk'],
                      y: [15, 115, 71, 125, 626, 727, 1349, 489, 202, 71, 59, 61, 124, 218, 4],
                      mode: 'lines+markers',
                      type: 'bar',
                      name: "Female",
                  };
                  var trace2_bar = {
                      x: ['I', 'II', 'III', 'IV', 'V', 'VI', 'VII', 'VIII', 'IX', 'X', 'XI', 'XII', 'XIII', 'XIV', 'Unk'],
                      y: [7, 76, 41, 70, 394, 482, 830, 295, 123, 51, 32, 42, 74, 163,4],
                      mode: 'lines+markers',
                      type: 'bar',
                      name: "Male",
                  };
                  var layout_bar = {
                  title: {
                      text:"1945 Jewish Survivors in Budapest",
                      font: {
                          family:"Arial",
                          size:30
                          }
                      },
                  xaxis:{
                      title:{
                          text: 'Districts',
                          font: {
                              family:'Circular, monospace',
                              size: 18,
                              color: '#7f7f7f'
                              }
                          }
                      },
                  yaxis:{
                      title:{
                          text: 'Number of survivors',
                          font: {
                              family:'Circular, monospace',
                              size: 18,
                              color: '#7f7f7f'
                              }
                          }
                      },
                  };
                  var data_bar = [trace_bar, trace2_bar];
                  
                  Plotly.newPlot('myDiv2', data_bar, layout_bar);
      
              </script>
            </div>
             
            <p>
                The third visualization displayed global meteorite landings. 
            </p>

            <div id="mapDiv"></div>
  <script>
  // Plottly wrapper
  Plotly.setPlotConfig({
    mapboxAccessToken: 'pk.eyJ1IjoibWNvZmZlciIsImEiOiJjazhla2U3c2wxNjE0M2xxdW5manFsZ3owIn0.rXIp186QQnEwyqOClXDdmg'
  });
  // JS code for plot
  Plotly.d3.csv('https://raw.githubusercontent.com/bcdunbar/datasets/master/meteorites_subset.csv', function(err, rows){
    // Code for defining layout will go here
    var layout = {
    title: 'Meteorite Landings',
    font: {
    color: 'white'
    },
    dragmode: 'zoom', 
    mapbox: {
        center: {
    lat: 38.03697222, 
    lon: -90.70916722
        }, 
        style: 'light', 
        zoom: 2
    }, 
    paper_bgcolor: '#191A1A', 
    plot_bgcolor: '#191A1A', 
    showlegend: true,
    annotations: [{
    x: 0,
    y: 0,
        text: 'NASA',
        showarrow: false
    }]
    };
    // Code for defining data will go here
    var classArray = unpack(rows, 'class');
    var classes = [...new Set(classArray)];

    function unpack(rows, key) {
        return rows.map(function(row) {
            return row[key];
        });
    }
    var data = classes.map(function(classes) {
        var rowsFiltered = rows.filter(function(row) {
            return (row.class === classes);
        });
        return {
            type: 'scattermapbox',
            name: classes,
            lat: unpack(rowsFiltered, 'reclat'),
            lon: unpack(rowsFiltered, 'reclong')
        };
    });
    Plotly.plot('mapDiv', data, layout);
    });
  </script>
</div>


<h2>Lab #2: Leflet tutorial</h2>

<body>

    <div id="mapid" style="height: 800px;"></div>

</body>

<!doctype html>
<html>

<script>

    var mymap = L.map('mapid').setView([51.505, -0.09], 13);

    L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {
        attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
        maxZoom: 18,
        id: 'mapbox/satellite-v9',
        tileSize: 512,
        zoomOffset: -1,
        accessToken: 'pk.eyJ1IjoibWNvZmZlciIsImEiOiJjazhyZzZhMGcwMDJoM2twNXUxc3dqenUwIn0.lUpVE-E6wSdrbxbCP9QHWg'
    }).addTo(mymap);

    var marker = L.marker([51.5, -0.09]).addTo(mymap);

    var circle = L.circle([51.508, -0.11], {
        color: 'red',
        fillColor: '#f03',
        fillOpacity: 0.5,
        radius: 500
    }).addTo(mymap);

    var polygon = L.polygon([
        [51.509, -0.08],
        [51.503, -0.06],
        [51.51, -0.047]
    ]).addTo(mymap);

    marker.bindPopup("<b>Hello world!</b><br>I am a popup.").openPopup();
    circle.bindPopup("I am a circle.");
    polygon.bindPopup("I am a polygon.");

    var popup = L.popup()
        .setLatLng([51.5, -0.09])
        .setContent("I am a standalone popup.")
        .openOn(mymap);

    function onMapClick(e) {
        alert("You clicked the map at " + e.latlng);
    }

    mymap.on('click', onMapClick);

    var popup = L.popup();

    function onMapClick(e) {
        popup
            .setLatLng(e.latlng)
            .setContent("You clicked the map at " + e.latlng.toString())
            .openOn(mymap);
    }

    mymap.on('click', onMapClick);

</script>


           

            <h2 class="blog-post-title">Homework #3</h2>

          </div><!-- /.blog-post -->
        </div><!-- /.blog-main -->



      </div><!-- /.row -->

    </main><!-- /.container -->



    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="./vender/js/holder.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
    <!-- <script>

    </script> -->


    <body>

        <div id="mapid" style="height: 800px;"></div>
    
    </body>
    
    <!doctype html>
    <html>
    
    <script>
    
        var mymap = L.map('mapid').setView([39.75621,-104.99404], 10);
    
        L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {
            attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
            maxZoom: 18,
            id: 'mapbox/satellite-v9',
            tileSize: 512,
            zoomOffset: -1,
            accessToken: 'pk.eyJ1IjoibWNvZmZlciIsImEiOiJjazhyZzZhMGcwMDJoM2twNXUxc3dqenUwIn0.lUpVE-E6wSdrbxbCP9QHWg'
        }).addTo(mymap);
    
    
        var geojsonFeature = {
            "type": "Feature",
            "properties": {
                "name": "Coors Field",
                "amenity": "Baseball Stadium",
                "popupContent": "This is where the Rockies play!"
            },
            "geometry": {
                "type": "Point",
                "coordinates": [-104.99404, 39.75621]
            }
            
        };
    
        var myStyle = {
            "color": "#ff7800",
            "weight": 10,
            "opacity": 0.8
        };
    
    
        var myLayer = L.geoJSON("", {
          style: myStyle
            }
        );
    
    
        myLayer.addData(geojsonFeature);
    
        var myLines = [{
            "type": "LineString",
            "coordinates": [[-100, 40], [-105, 45], [-110, 55]]
        }, {
            "type": "LineString",
            "coordinates": [[-105, 40], [-110, 45], [-115, 55]]
        }];
    
        
        myLayer.addData(myLines);
    
        var ptLayer = L.geoJSON(geojsonFeature);
    
        myLayer.addData(myLines);
    
        myLayer.addTo(mymap);
    
        var states = [{
        "type": "Feature",
        "properties": {"party": "Republican"},
        "geometry": {
            "type": "Polygon",
            "coordinates": [[
                [-104.05, 48.99],
                [-97.22,  48.98],
                [-96.58,  45.94],
                [-104.03, 45.94],
                [-104.05, 48.99]
            ]]
        }
    }, {
        "type": "Feature",
        "properties": {"party": "Democrat"},
        "geometry": {
            "type": "Polygon",
            "coordinates": [[
                [-109.05, 41.00],
                [-102.06, 40.99],
                [-102.03, 36.99],
                [-109.04, 36.99],
                [-109.05, 41.00]
            ]]
        }
    }];
    
    
    var theStyler = function(feature){
        switch (feature.properties.party) {
            case 'Republican': return {color: "#ff0000"};
            case 'Democrat':   return {color: "#0000ff"};
        }
    };
    
    var myLayer2 = L.geoJSON("", {
        style: theStyler
    }
    );
    
    myLayer2.addData(states);
    myLayer2.addTo(mymap);
    
    
    var geojsonMarkerOptions = {
        radius: 8,
        fillColor: "#ff7800",
        color: "#000",
        weight: 1,
        opacity: 1,
        fillOpacity: 0.8
    };
    
    
    myLayer3 = L.geoJSON("", {
        pointToLayer: function (feature, latlng) {
            return L.circleMarker(latlng, geojsonMarkerOptions);
        }
    }
    );
    
    
    myLayer3.addData(geojsonFeature);
    myLayer3.addTo(mymap);
    
    
    function onEachOfMyFeatures(feature, layer) {
        // does this feature have a property named popupContent?
        if (feature.properties && feature.properties.popupContent) {
            layer.bindPopup(feature.properties.popupContent);
        }
    }
    
    var geojsonFeature = {
        "type": "Feature",
        "properties": {
            "name": "Coors Field",
            "amenity": "Baseball Stadium",
            "popupContent": "This is where the Rockies play!"
        },
        "geometry": {
            "type": "Point",
            "coordinates": [-104.99404, 39.75621]
        }
    };
    
    
    L.geoJSON(geojsonFeature, {
        onEachFeature: onEachOfMyFeatures
    }).addTo(mymap);
    
    
    var someFeatures = [{
        "type": "Feature",
        "properties": {
            "name": "Northglenn",
            "show_on_map": false
        },
        "geometry": {
            "type": "Point",
            "coordinates": [-104.9811, 39.8962]
        }
    }, {
        "type": "Feature",
        "properties": {
            "name": "Thornton",
            "show_on_map": false
        },
        "geometry": {
            "type": "Point",
            "coordinates": [-104.9719, 39.8680]
        }
    }];
    
    L.geoJSON(someFeatures, {
        filter: function(feature, layer) {
            return feature.properties.show_on_map;
        }
    }).addTo(mymap);
    
    
    
    
    
    </script>

  </body>

   
  
  
</html>
